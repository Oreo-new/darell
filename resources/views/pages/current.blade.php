<x-layout>
    <div class="container mx-auto pt-30">
      <div id="intro" class="pt-28 mb-10 md:mb-20 px-4">
          <div class="introVideo md:h-auto" id="mainvid">
              <video controls class="object-cover w-full absolute top-0" id="endvid">
                <source src="{{asset('videos/Events_of_the_End_Times_A_Biblical_Journey.mp4')}}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
          </div>
          <h2 class="text-2xl font-bold mt-6 roboto">Events of end Times A Biblical Journey</h2>
      </div>
          
    </div>
    
    <div class="container mx-auto">
      <div class="flex justify-center md:justify-between mt-4 mb-10 flex-wrap md:flex-nowrap space-x-4">
      </div>
  
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-20" id="videoContainer">
         
            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">
                
                </div>
                <div class="videoWrapper" >
                    <video controls class="object-cover w-full absolute top-0">
                        <source src="{{asset('videos/Chronicle_1_After_These_Things.mp4')}}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 1, After These Things</h3>
                
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_2_First_Seal_and_Day_1_Events.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 2, First Seal and Day 1 Events</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_3_Seals_2_through_5.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 3 Seals 2 through 5</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_4_Three_Signs_and_Three_Events.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 4 Three Signs and Three Events</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_5_Beast_from_Bottomless_Pit.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 5 Beast from Bottomless Pit</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_6_Multitude_from_the_Tribulation.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 6 Multitude from the Tribulation</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_7_Wrath_of_the_Lamb.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 7 Wrath of the Lamb</h3>
            </div>
             
            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_8_Wrath_of_God.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 8 Wrath of God</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_9_Mystery_Babylon.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 9 Mystery Babylon</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_10_Day_of_the_Lord.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 10 Day of the Lord</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_11_New_Heavens_Earth_and_City.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 11 New Heavens Earth and City</h3>
            </div>

            <div class="border p-4 rounded video relative" >
                <div class="absolute  top-0 bottom-0 h-full w-full left-0 right-0 z-10 cursor-pointer video-trigger">

                </div>
                <div class="videoWrapper" >
                        <video controls class="object-cover w-full absolute top-0">
                            <source src="{{asset('videos/Chronicle_12_Eternity_Begins.mp4')}}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    
                </div>
                <h3 class="text-lg font-bold mt-6 roboto vid-title">Chronicle 12 Eternity Begins</h3>
            </div>
        
      </div>
  </div>

  <script>
     
     setTimeout(() => hideLoadingSpinner(1), 30000);

      window.hideLoadingSpinner = function (index) {
        const spinner = document.getElementById(`loading-1`);
        const spinner2 = document.getElementById(`loading-main`);
        if (spinner) {
            spinner.style.display = 'none';
            spinner2.style.display = 'none';
        }
    };
  
      function scrollToSection(targetId) {
          var targetSection = document.getElementById(targetId);
          if (targetSection) {
          window.scrollTo({
              top: targetSection.offsetTop,
              behavior: 'smooth'
          });
          }
      }
      
      function playMainVid(fullLink) {
          const main = document.getElementById(`mainvid`);
        //   console.log(main)
          const ifr = main.firstElementChild.firstElementChild;
          ifr.setAttribute("src", fullLink);
          console.log(main.firstElementChild)
          main.firstElementChild.load();
          main.firstElementChild.play();

  
          
      }
      function chageMaintext(label) {
          const main = document.getElementById(`mainvid`);
          main.nextElementSibling.innerText = label;
          checkTitle();
      }
  
  
      const videoContainer4 = document.querySelectorAll('.video-trigger');
  
      videoContainer4.forEach(button => {
          // Add a click event listener to each button
          button.addEventListener('click', function(e) {
              e.preventDefault();
            //   console.log(this);
              const source = this.nextElementSibling.firstElementChild.currentSrc;

            //   console.log(source);
  
              
              const label = this.nextElementSibling.nextElementSibling.innerText;
            //   console.log(label)

              
             this.nextElementSibling.nextElementSibling.classList.add("active");

              playMainVid(source);
              chageMaintext(label);
              scrollToSection('intro');
             
            //   const mainvid = document.getElementById(`mainvid`);
            //   mainvid.style.height = '574px';
  
          });
  
          
      });
       function checkTitle() {
          const main = document.getElementById(`mainvid`);
          const mainlabel = main.nextElementSibling.innerText;
          console.log(mainlabel);

          const vidlabel = document.querySelectorAll('.vid-title');
          
          vidlabel.forEach(label => {
            console.log(label)
              if(label.innerText != mainlabel && label.classList.contains('active')) {
                  label.classList.remove("active");
              }

          })
       }
       
   
  
  </script>
  </x-layout>